<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MateChat</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="main-container">
        <div class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i>M</i>
                </div>
                <span id="businessName">MateChat</span>
            </div>
            <div class="status-info">
                <div id="statusIndicator" class="status-indicator status-disconnected">Desconectado</div>
                <button id="connectButton" class="connect-btn">Conectar</button>
                <button id="disconnectButton" class="disconnect-btn">Desconectar</button>
                <button id="settingsButton" class="settings-btn">‚öôÔ∏è</button>
            </div>
        </div>
        
        <div class="content">
            <div class="conversations-panel">
                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Buscar o iniciar un nuevo chat" id="searchInput">
                </div>
                <div class="new-chat-button" id="newChatButton">
                    <span>+</span> Nuevo chat
                </div>
                <div class="conversations-list" id="conversationsList">
                    <!-- Las conversaciones se cargar√°n din√°micamente -->
                    <div class="conversation-item empty">
                        Conecta tu cuenta de WhatsApp Business para ver las conversaciones
                    </div>
                </div>
            </div>
            
            <div class="chat-panel">
                <div class="chat-header">
                    <button class="back-button">&larr;</button>
                    <div class="contact-details">
                        <div class="contact-header-name">Selecciona una conversaci√≥n</div>
                        <div class="contact-status">0 mensajes</div>
                    </div>
                </div>
                <div class="messages-container" id="messagesContainer">
                    <div class="empty-messages">
                        Selecciona una conversaci√≥n para ver los mensajes
                    </div>
                </div>
                <div class="message-input-container">
                    <input type="text" class="message-input" placeholder="Escribe un mensaje" id="messageInput">
                    <button class="send-button" id="sendButton">‚Üí</button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <span>üîí</span>
            <span>Powered by WhatsApp Business API</span>
        </div>
    </div>

    <!-- Modal de configuraci√≥n API -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Configuraci√≥n de API</h2>
                <span class="close-modal" id="closeSettingsModal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="apiSettingsForm">
                    <div class="form-group">
                        <label for="apiUrl">URL de API:</label>
                        <input type="text" id="apiUrl" name="apiUrl" value="https://graph.facebook.com/v19.0">
                    </div>
                    <div class="form-group">
                        <label for="appId">App ID:</label>
                        <input type="text" id="appId" name="appId" value="1157968849126039">
                    </div>
                    <div class="form-group">
                        <label for="appSecret">App Secret:</label>
                        <input type="password" id="appSecret" name="appSecret" value="e173f3786a59318a4239dfa265d39bff">
                    </div>
                    <div class="form-group">
                        <label for="accessToken">Access Token:</label>
                        <input type="password" id="accessToken" name="accessToken" value="5af85ca86531c3d789f8b5c0bfa41f47">
                    </div>
                    <div class="form-group">
                        <label for="phoneNumberId">Phone Number ID:</label>
                        <input type="text" id="phoneNumberId" name="phoneNumberId" placeholder="Tu Phone Number ID">
                    </div>
                    <button type="submit" class="btn-primary">Guardar configuraci√≥n</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de nuevo chat -->
    <div class="modal" id="newChatModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuevo chat</h2>
                <span class="close-modal" id="closeNewChatModal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="newChatForm">
                    <div class="form-group">
                        <label for="recipientPhone">N√∫mero de tel√©fono:</label>
                        <input type="text" id="recipientPhone" name="recipientPhone" placeholder="Ej: 5491122334455">
                        <small>Incluye el c√≥digo de pa√≠s sin '+' ni espacios</small>
                    </div>
                    <div class="form-group">
                        <label for="recipientName">Nombre (opcional):</label>
                        <input type="text" id="recipientName" name="recipientName" placeholder="Nombre del contacto">
                    </div>
                    <div class="form-group">
                        <label for="firstMessage">Primer mensaje (opcional):</label>
                        <textarea id="firstMessage" name="firstMessage" placeholder="Mensaje inicial"></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Iniciar conversaci√≥n</button>
                </form>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>